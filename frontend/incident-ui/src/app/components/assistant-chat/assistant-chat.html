<mat-card class="chat-card">
  <mat-card-header>
    <mat-card-title>
      <mat-icon>support_agent</mat-icon>
      AI Support Assistant
    </mat-card-title>
  </mat-card-header>
  
  <mat-card-content>
    <div class="chat-container">
      <div *ngFor="let message of messages" 
           [class.user-message]="message.isUser"
           [class.loading]="message.loading"
           class="message">
        <div class="message-content">
          <mat-icon *ngIf="message.isUser">person</mat-icon>
          <mat-icon *ngIf="!message.isUser && !message.loading">smart_toy</mat-icon>
          <mat-spinner *ngIf="message.loading" diameter="20"></mat-spinner>
          <div>{{ message.text }}</div>
        </div>
      </div>
    </div>
    
    <mat-form-field appearance="outline" class="query-input">
      <mat-label>Ask about an incident...</mat-label>
      <input matInput [(ngModel)]="userQuery" (keyup.enter)="askQuestion()">
      <button matSuffix mat-icon-button (click)="askQuestion()" [disabled]="!userQuery.trim()">
        <mat-icon>send</mat-icon>
      </button>
    </mat-form-field>
  </mat-card-content>
</mat-card>
